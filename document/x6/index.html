<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç®€ä»‹ | DataFan UI</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="æ‰€æœ‰çš„ä¼Ÿå¤§ï¼Œéƒ½æºäºä¸€ä¸ªå‹‡æ•¢çš„å¼€å§‹">
    
    <link rel="preload" href="/assets/css/0.styles.61f56397.css" as="style"><link rel="preload" href="/assets/js/app.fbb00a38.js" as="script"><link rel="preload" href="/assets/js/2.2784263e.js" as="script"><link rel="preload" href="/assets/js/41.52820797.js" as="script"><link rel="prefetch" href="/assets/js/10.dca66e9a.js"><link rel="prefetch" href="/assets/js/11.70a5ddb8.js"><link rel="prefetch" href="/assets/js/12.8c6d40d7.js"><link rel="prefetch" href="/assets/js/13.64ba72fb.js"><link rel="prefetch" href="/assets/js/14.009ac787.js"><link rel="prefetch" href="/assets/js/15.fd8378a0.js"><link rel="prefetch" href="/assets/js/16.dd26dbe5.js"><link rel="prefetch" href="/assets/js/17.76829008.js"><link rel="prefetch" href="/assets/js/18.e6e5543e.js"><link rel="prefetch" href="/assets/js/19.7ea3c23e.js"><link rel="prefetch" href="/assets/js/20.f1cf9eeb.js"><link rel="prefetch" href="/assets/js/21.f8c52346.js"><link rel="prefetch" href="/assets/js/22.758b3ec0.js"><link rel="prefetch" href="/assets/js/23.67a7a48f.js"><link rel="prefetch" href="/assets/js/24.475a90f9.js"><link rel="prefetch" href="/assets/js/25.efe349b4.js"><link rel="prefetch" href="/assets/js/26.6c749548.js"><link rel="prefetch" href="/assets/js/27.d166aa9e.js"><link rel="prefetch" href="/assets/js/28.43da4518.js"><link rel="prefetch" href="/assets/js/29.3cea99ae.js"><link rel="prefetch" href="/assets/js/3.30e359b9.js"><link rel="prefetch" href="/assets/js/30.ea700635.js"><link rel="prefetch" href="/assets/js/31.f1d4d465.js"><link rel="prefetch" href="/assets/js/32.0b2beb0a.js"><link rel="prefetch" href="/assets/js/33.5b864d31.js"><link rel="prefetch" href="/assets/js/34.3ebd8617.js"><link rel="prefetch" href="/assets/js/35.c887bfb5.js"><link rel="prefetch" href="/assets/js/36.5743c567.js"><link rel="prefetch" href="/assets/js/37.16584230.js"><link rel="prefetch" href="/assets/js/38.b036bcdf.js"><link rel="prefetch" href="/assets/js/39.9ec52d5d.js"><link rel="prefetch" href="/assets/js/4.4115b534.js"><link rel="prefetch" href="/assets/js/40.1bc3f5b7.js"><link rel="prefetch" href="/assets/js/5.430e0c7a.js"><link rel="prefetch" href="/assets/js/6.9617d452.js"><link rel="prefetch" href="/assets/js/7.dc8a3d69.js"><link rel="prefetch" href="/assets/js/8.bb5f4b4c.js"><link rel="prefetch" href="/assets/js/9.d74d7196.js">
    <link rel="stylesheet" href="/assets/css/0.styles.61f56397.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DataFan UI</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/components/" class="nav-link">
  ç»„ä»¶ä¸­å¿ƒ
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  è§„èŒƒæ–‡æ¡£
</a></div><div class="nav-item"><a href="/document/" class="nav-link router-link-active">
  å¼€å‘æ‰‹å†Œ
</a></div><div class="nav-item"><a href="https://github.com/young-datafan/datafan-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/components/" class="nav-link">
  ç»„ä»¶ä¸­å¿ƒ
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  è§„èŒƒæ–‡æ¡£
</a></div><div class="nav-item"><a href="/document/" class="nav-link router-link-active">
  å¼€å‘æ‰‹å†Œ
</a></div><div class="nav-item"><a href="https://github.com/young-datafan/datafan-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/document/" aria-current="page" class="sidebar-link">å¼€å‘æ‰‹å†Œ</a></li><li><a href="/document/vue3/" class="sidebar-link">Vue3 æ–°æ¡†æ¶&amp;ç»„ä»¶</a></li><li><a href="/document/pinia.html" class="sidebar-link">Pinia æ–°ä¸€ä»£çŠ¶æ€ç®¡ç†</a></li><li><a href="/document/TypeScript.html" class="sidebar-link">TypeScript</a></li><li><a href="/document/vue3-base.html" class="sidebar-link">Vue3 åŸºç¡€çŸ¥è¯†</a></li><li><a href="/document/x6/" aria-current="page" class="active sidebar-link">antv-X6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/x6/#ç®€ä»‹" class="sidebar-link">ç®€ä»‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/x6/#ç‰¹æ€§" class="sidebar-link">ç‰¹æ€§</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/x6/#å¿«é€Ÿä¸Šæ‰‹" class="sidebar-link">å¿«é€Ÿä¸Šæ‰‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/x6/#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/document/x6/#å¼€å§‹ä½¿ç”¨" class="sidebar-link">å¼€å§‹ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/document/x6/#ç”»å¸ƒ" class="sidebar-link">ç”»å¸ƒ</a></li><li class="sidebar-sub-header"><a href="/document/x6/#èŠ‚ç‚¹" class="sidebar-link">èŠ‚ç‚¹</a></li><li class="sidebar-sub-header"><a href="/document/x6/#è¾¹" class="sidebar-link">è¾¹</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/x6/#åŸºæœ¬æ•™ç¨‹" class="sidebar-link">åŸºæœ¬æ•™ç¨‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/x6/#ç”»å¸ƒ-graph-å¹³ç§»ã€ç¼©æ”¾ã€å±…ä¸­" class="sidebar-link">ç”»å¸ƒ Graph å¹³ç§»ã€ç¼©æ”¾ã€å±…ä¸­</a></li><li class="sidebar-sub-header"><a href="/document/x6/#å¯¼å‡º" class="sidebar-link">å¯¼å‡º</a></li><li class="sidebar-sub-header"><a href="/document/x6/#é”€æ¯ç”»å¸ƒ" class="sidebar-link">é”€æ¯ç”»å¸ƒ</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/x6/#é¡¹ç›®ä¸­ç”¨åˆ°çš„æ–¹æ³•" class="sidebar-link">é¡¹ç›®ä¸­ç”¨åˆ°çš„æ–¹æ³•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/x6/#draggable" class="sidebar-link">draggable</a></li><li class="sidebar-sub-header"><a href="/document/x6/#è¿çº¿éªŒè¯-validateconnection" class="sidebar-link">è¿çº¿éªŒè¯ï¼ˆvalidateConnectionï¼‰</a></li><li class="sidebar-sub-header"><a href="/document/x6/#äº‹ä»¶ç³»ç»Ÿ" class="sidebar-link">äº‹ä»¶ç³»ç»Ÿ</a></li><li class="sidebar-sub-header"><a href="/document/x6/#èŠ‚ç‚¹-è¾¹" class="sidebar-link">èŠ‚ç‚¹/è¾¹</a></li><li class="sidebar-sub-header"><a href="/document/x6/#cell" class="sidebar-link">Cell</a></li><li class="sidebar-sub-header"><a href="/document/x6/#model" class="sidebar-link">Model</a></li></ul></li></ul></li><li><a href="/document/Promise/" class="sidebar-link">Promiseå¯¹è±¡</a></li><li><a href="/document/Closure/" class="sidebar-link">é—­åŒ…å’ŒHttpç¼“å­˜æœºåˆ¶</a></li><li><a href="/document/vue3-unti-test.html" class="sidebar-link">Vue3 å•å…ƒæµ‹è¯•</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h2> <p>X6 æ˜¯ AntV æ——ä¸‹çš„å›¾ç¼–è¾‘å¼•æ“ï¼Œæä¾›äº†ä¸€ç³»åˆ—å¼€ç®±å³ç”¨çš„äº¤äº’ç»„ä»¶å’Œç®€å•æ˜“ç”¨çš„èŠ‚ç‚¹å®šåˆ¶èƒ½åŠ›ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿæ­å»ºæµç¨‹å›¾ã€DAG å›¾ã€ER å›¾ç­‰å›¾åº”ç”¨ã€‚</p> <h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="header-anchor">#</a> ç‰¹æ€§</h3> <ul><li>ğŸŒ±ã€€ææ˜“å®šåˆ¶ï¼šæ”¯æŒä½¿ç”¨ SVG/HTML/React/Vue å®šåˆ¶èŠ‚ç‚¹æ ·å¼å’Œäº¤äº’ï¼›</li> <li>ğŸš€ã€€å¼€ç®±å³ç”¨ï¼šå†…ç½® 10+ å›¾ç¼–è¾‘é…å¥—æ‰©å±•ï¼Œå¦‚æ¡†é€‰ã€å¯¹é½çº¿ã€å°åœ°å›¾ç­‰ï¼›</li> <li>ğŸ§²ã€€æ•°æ®é©±åŠ¨ï¼šåŸºäº MVC æ¶æ„ï¼Œç”¨æˆ·æ›´åŠ ä¸“æ³¨äºæ•°æ®é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘ï¼›</li> <li>ğŸ’¯ã€€äº‹ä»¶é©±åŠ¨ï¼šå¯ä»¥ç›‘å¬å›¾è¡¨å†…å‘ç”Ÿçš„ä»»ä½•äº‹ä»¶ã€‚</li></ul> <h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="header-anchor">#</a> å¿«é€Ÿä¸Šæ‰‹</h2> <h3 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h3> <p>é€šè¿‡ npm æˆ– yarn å‘½ä»¤å®‰è£… X6ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># npm</span>
$ <span class="token function">npm</span> <span class="token function">install</span> @antv/x6 --save

<span class="token comment"># yarn</span>
$ <span class="token function">yarn</span> <span class="token function">add</span> @antv/x6
</code></pre></div><p>å®‰è£…å®Œæˆä¹‹åï¼Œä½¿ç”¨ <code>import</code> æˆ– <code>require</code> è¿›è¡Œå¼•ç”¨ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Graph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@antv/x6'</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœæ˜¯ç›´æ¥é€šè¿‡ <code>script</code> æ ‡ç­¾å¼•å…¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸‰ä¸ª CDN ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œé»˜è®¤è¿”å› X6 çš„æœ€æ–°ç‰ˆï¼š</p> <ul><li>https://unpkg.com/@antv/x6/dist/x6.js</li> <li>https://cdn.jsdelivr.net/npm/@antv/x6/dist/x6.js</li> <li>https://cdnjs.cloudflare.com/ajax/libs/antv-x6/1.3.20/x6.js (ä¸æ”¯æŒè·å–æœ€æ–°ç‰ˆ)</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/@antv/x6/dist/x6.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ä¸€ä¸ªæ˜ç¡®çš„ç‰ˆæœ¬å·ï¼Œä»¥é¿å…æ–°ç‰ˆæœ¬é€ æˆçš„ä¸å¯é¢„æœŸçš„ç ´åï¼š</p> <ul><li>https://unpkg.com/@antv/x6@1.1.1/dist/x6.js</li> <li>https://cdn.jsdelivr.net/npm/@antv/x6@1.1.1/dist/x6.js</li> <li>https://cdnjs.cloudflare.com/ajax/libs/antv-x6/1.1.1/x6.js</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/@antv/x6@1.1.1/dist/x6.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="header-anchor">#</a> å¼€å§‹ä½¿ç”¨</h3> <p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·æ¥åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„ <code>Hello --&gt; World</code> åº”ç”¨ã€‚</p> <h4 id="step-1-åˆ›å»ºå®¹å™¨"><a href="#step-1-åˆ›å»ºå®¹å™¨" class="header-anchor">#</a> Step 1 åˆ›å»ºå®¹å™¨</h4> <p>åœ¨é¡µé¢ä¸­åˆ›å»ºä¸€ä¸ªç”¨äºå®¹çº³ X6 ç»˜å›¾çš„å®¹å™¨ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ª <code>div</code> æ ‡ç­¾ã€‚</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="step-2-å‡†å¤‡æ•°æ®"><a href="#step-2-å‡†å¤‡æ•°æ®" class="header-anchor">#</a> Step 2 å‡†å¤‡æ•°æ®</h4> <p>X6 æ”¯æŒ JSON æ ¼å¼æ•°æ®ï¼Œè¯¥å¯¹è±¡ä¸­éœ€è¦æœ‰èŠ‚ç‚¹ <code>nodes</code> å’Œè¾¹ <code>edges</code> å­—æ®µï¼Œåˆ†åˆ«ç”¨æ•°ç»„è¡¨ç¤ºï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// èŠ‚ç‚¹</span>
  nodes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span> <span class="token comment">// Stringï¼Œå¯é€‰ï¼ŒèŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†</span>
      x<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>       <span class="token comment">// Numberï¼Œå¿…é€‰ï¼ŒèŠ‚ç‚¹ä½ç½®çš„ x å€¼</span>
      y<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>       <span class="token comment">// Numberï¼Œå¿…é€‰ï¼ŒèŠ‚ç‚¹ä½ç½®çš„ y å€¼</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>   <span class="token comment">// Numberï¼Œå¯é€‰ï¼ŒèŠ‚ç‚¹å¤§å°çš„ width å€¼</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>  <span class="token comment">// Numberï¼Œå¯é€‰ï¼ŒèŠ‚ç‚¹å¤§å°çš„ height å€¼</span>
      label<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token comment">// Stringï¼ŒèŠ‚ç‚¹æ ‡ç­¾</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span> <span class="token comment">// Stringï¼ŒèŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†</span>
      x<span class="token operator">:</span> <span class="token number">160</span><span class="token punctuation">,</span>      <span class="token comment">// Numberï¼Œå¿…é€‰ï¼ŒèŠ‚ç‚¹ä½ç½®çš„ x å€¼</span>
      y<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>      <span class="token comment">// Numberï¼Œå¿…é€‰ï¼ŒèŠ‚ç‚¹ä½ç½®çš„ y å€¼</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>   <span class="token comment">// Numberï¼Œå¯é€‰ï¼ŒèŠ‚ç‚¹å¤§å°çš„ width å€¼</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>  <span class="token comment">// Numberï¼Œå¯é€‰ï¼ŒèŠ‚ç‚¹å¤§å°çš„ height å€¼</span>
      label<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">,</span> <span class="token comment">// Stringï¼ŒèŠ‚ç‚¹æ ‡ç­¾</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// è¾¹</span>
  edges<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      source<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span> <span class="token comment">// Stringï¼Œå¿…é¡»ï¼Œèµ·å§‹èŠ‚ç‚¹ id</span>
      target<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span> <span class="token comment">// Stringï¼Œå¿…é¡»ï¼Œç›®æ ‡èŠ‚ç‚¹ id</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="step-3-æ¸²æŸ“ç”»å¸ƒ"><a href="#step-3-æ¸²æŸ“ç”»å¸ƒ" class="header-anchor">#</a> Step 3 æ¸²æŸ“ç”»å¸ƒ</h4> <p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª <code>Graph</code> å¯¹è±¡ï¼Œå¹¶ä¸ºå…¶æŒ‡å®šä¸€ä¸ªé¡µé¢ä¸Šçš„ç»˜å›¾å®¹å™¨ï¼Œé€šå¸¸ä¹Ÿä¼šæŒ‡å®šç”»å¸ƒçš„å¤§å°ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Graph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@antv/x6'</span><span class="token punctuation">;</span>
<span class="token comment">// ä½¿ç”¨ CDN å¼•å…¥æ—¶æš´éœ²äº† X6 å…¨å±€å˜é‡</span>
<span class="token comment">// const { Graph } = X6</span>

<span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  width<span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
  height<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœæ˜¯é€šè¿‡ <code>script</code> æ ‡ç­¾å¼•å…¥æ–¹å¼ï¼Œæˆ‘ä»¬çš„ <code>Graph</code> å¯¹è±¡æ˜¯æŒ‚è½½åœ¨ <code>X6</code> è¿™ä¸ªå…¨å±€å˜é‡ä¸‹é¢ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/@antv/x6/dist/x6.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">X6<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">container</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åˆšåˆšåˆ›å»ºçš„ <code>graph</code> æ¥æ¸²æŸ“æˆ‘ä»¬çš„èŠ‚ç‚¹å’Œè¾¹ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre></div><p>åˆ°æ­¤ï¼Œæˆ‘ä»¬å°±å¾—åˆ°ä¸€ä¸ªæœ€ç®€å•çš„ <code>Hello --&gt; World</code> ç¤ºä¾‹ï¼Œçœ‹ä¸‹é¢çš„å®Œæ•´ä»£ç ã€‚</p> <iframe src="https://x6.antv.vision/demos/tutorial/getting-started/helloworld/" style="width:100%;height:375px;border:0;"></iframe> <h3 id="ç”»å¸ƒ"><a href="#ç”»å¸ƒ" class="header-anchor">#</a> ç”»å¸ƒ</h3> <h4 id="èƒŒæ™¯å’Œç½‘æ ¼"><a href="#èƒŒæ™¯å’Œç½‘æ ¼" class="header-anchor">#</a> èƒŒæ™¯å’Œç½‘æ ¼</h4> <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ç»™ç”»å¸ƒè®¾ç½®ä¸€ä¸ªèƒŒæ™¯é¢œè‰²å’Œç½‘æ ¼ï¼Œå¦å¤–è¿˜æ”¯æŒèƒŒæ™¯å›¾ç‰‡ã€ç½‘æ ¼ç±»å‹ç­‰é…ç½®ï¼Œç‚¹å‡»æŸ¥çœ‹å®Œæ•´çš„<a href="basic/background">èƒŒæ™¯é…ç½®</a>å’Œ<a href="basic/grid">ç½‘æ ¼é…ç½®</a>ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Graph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@antv/x6'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  width<span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
  height<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
  background<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">'#fffbe6'</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®ç”»å¸ƒèƒŒæ™¯é¢œè‰²</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  grid<span class="token operator">:</span> <span class="token punctuation">{</span>
    size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>      <span class="token comment">// ç½‘æ ¼å¤§å° 10px</span>
    visible<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ¸²æŸ“ç½‘æ ¼èƒŒæ™¯</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><iframe src="https://x6.antv.vision/demos/tutorial/getting-started/background" style="width:100%;height:375px;border:0;"></iframe> <h4 id="ç¼©æ”¾å’Œå¹³ç§»"><a href="#ç¼©æ”¾å’Œå¹³ç§»" class="header-anchor">#</a> ç¼©æ”¾å’Œå¹³ç§»</h4> <p>åˆ›å»ºç”»å¸ƒåï¼Œå¯ä»¥è°ƒç”¨ <code>graph.zoom(factor: number)</code> å’Œ <code>graph.translate(tx: number, ty: number)</code> æ¥ç¼©æ”¾å’Œå¹³ç§»ç”»å¸ƒã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">zoom</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
</code></pre></div><iframe src="https://x6.antv.vision/demos/tutorial/getting-started/transform" style="width:100%;height:375px;border:0;"></iframe> <h3 id="èŠ‚ç‚¹"><a href="#èŠ‚ç‚¹" class="header-anchor">#</a> èŠ‚ç‚¹</h3> <h4 id="ä½¿ç”¨å›¾å½¢"><a href="#ä½¿ç”¨å›¾å½¢" class="header-anchor">#</a> ä½¿ç”¨å›¾å½¢</h4> <p>åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é»˜è®¤å›¾å½¢ <code>rect</code> æ¥æ¸²æŸ“èŠ‚ç‚¹ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬åœ¨ X6 ä¸­ä¹Ÿå†…ç½®äº† <code>circle</code>ã€<code>ellipse</code>ã€<code>polygon</code> ç­‰<a href="basic/cell#%E5%86%85%E7%BD%AE%E8%8A%82%E7%82%B9">åŸºç¡€å›¾å½¢</a>ï¼Œå¯ä»¥é€šè¿‡ <code>shape</code> å±æ€§ä¸ºèŠ‚ç‚¹æŒ‡å®šæ¸²æŸ“çš„å›¾å½¢ï¼Œå¦‚æœä½ å¯¹ SVG å›¾å½¢è¿˜ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å‚è€ƒ <a href="https://www.ruanyifeng.com/blog/2018/08/svg.html" target="_blank" rel="noopener noreferrer">SVG å›¾åƒå…¥é—¨æ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  nodes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ rect æ¸²æŸ“</span>
      x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'ellipse'</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ ellipse æ¸²æŸ“</span>
      x<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  edges<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      source<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><iframe src="https://x6.antv.vision/demos/tutorial/getting-started/node-shape" style="width:100%;height:375px;border:0;"></iframe> <h4 id="å®šåˆ¶æ ·å¼"><a href="#å®šåˆ¶æ ·å¼" class="header-anchor">#</a> å®šåˆ¶æ ·å¼</h4> <p>åœ¨åˆ›å»ºèŠ‚ç‚¹æˆ–å‡†å¤‡èŠ‚ç‚¹æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>attrs</code> å¯¹è±¡æ¥é…ç½®èŠ‚ç‚¹æ ·å¼ï¼Œè¯¥å¯¹è±¡çš„ Key æ˜¯èŠ‚ç‚¹ SVG å…ƒç´ çš„é€‰æ‹©å™¨(Selector)ï¼Œå¯¹åº”çš„å€¼æ˜¯åº”ç”¨åˆ°è¯¥ SVG å…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute" target="_blank" rel="noopener noreferrer">SVG å±æ€§å€¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(å¦‚ <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/fill" target="_blank" rel="noopener noreferrer">fill<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke" target="_blank" rel="noopener noreferrer">stroke<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)ï¼Œå¦‚æœä½ å¯¹ SVG å±æ€§è¿˜ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å‚è€ƒ MDN æä¾›çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Fills_and_Strokes" target="_blank" rel="noopener noreferrer">å¡«å……å’Œè¾¹æ¡†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å…¥é—¨æ•™ç¨‹ã€‚</p> <p>æˆ‘ä»¬å¯¹ <code>'rect'</code> å›¾å½¢ä¸­å®šä¹‰äº† <code>'body'</code>(ä»£è¡¨ <code>&lt;rect&gt;</code> å…ƒç´ ) å’Œ <code>'label'</code>(ä»£è¡¨ <code>&lt;text&gt;</code> å…ƒç´ ) ä¸¤ä¸ªé€‰æ‹©å™¨(Selector)ï¼Œæ¯ç§å›¾å½¢éƒ½æœ‰å±äºè‡ªå·±çš„é€‰æ‹©å™¨å®šä¹‰ï¼ŒX6 å†…ç½®å›¾å½¢<a href="basic/cell#attrs-1">å‚è€ƒè¿™é‡Œ</a>ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  nodes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      x<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token punctuation">{</span>
          fill<span class="token operator">:</span> <span class="token string">'#2ECC71'</span><span class="token punctuation">,</span>
          stroke<span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
          strokeDasharray<span class="token operator">:</span> <span class="token string">'10,2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
          text<span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
          fill<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
          fontSize<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
      x<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">240</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token punctuation">{</span>
          fill<span class="token operator">:</span> <span class="token string">'#F39C12'</span><span class="token punctuation">,</span>
          stroke<span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
          rx<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
          ry<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
          text<span class="token operator">:</span> <span class="token string">'World'</span><span class="token punctuation">,</span>
          fill<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
          fontSize<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          fontWeight<span class="token operator">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span>
          fontVariant<span class="token operator">:</span> <span class="token string">'small-caps'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  edges<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      source<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><iframe src="https://x6.antv.vision/demos/tutorial/getting-started/node-style" style="width:100%;height:375px;border:0;"></iframe> <h3 id="è¾¹"><a href="#è¾¹" class="header-anchor">#</a> è¾¹</h3> <h4 id="ä½¿ç”¨å›¾å½¢-2"><a href="#ä½¿ç”¨å›¾å½¢-2" class="header-anchor">#</a> ä½¿ç”¨å›¾å½¢</h4> <p>åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é»˜è®¤å›¾å½¢ <code>edge</code> æ¥æ¸²æŸ“è¾¹ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ X6 ä¸­è¿˜å†…ç½®äº† <code>double-edge</code> å’Œ <code>shadow-edge</code> ä¸¤ç§å›¾å½¢ï¼Œå¯ä»¥é€šè¿‡ <code>shape</code> å±æ€§ä¸ºè¾¹æŒ‡å®šæ¸²æŸ“çš„å›¾å½¢ï¼Œä¾‹å¦‚ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  nodes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
      x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'ellipse'</span><span class="token punctuation">,</span>
      x<span class="token operator">:</span> <span class="token number">240</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  edges<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      source<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'double-edge'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><iframe src="https://x6.antv.vision/demos/tutorial/getting-started/edge-shape" style="width:100%;height:375px;border:0;"></iframe> <h4 id="å®šåˆ¶æ ·å¼-2"><a href="#å®šåˆ¶æ ·å¼-2" class="header-anchor">#</a> å®šåˆ¶æ ·å¼</h4> <p>ä¸<a href="#%E5%AE%9A%E5%88%B6%E6%A0%B7%E5%BC%8F">å®šåˆ¶èŠ‚ç‚¹æ ·å¼</a>ä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>attrs</code> å¯¹è±¡æ¥é…ç½®è¾¹çš„æ ·å¼ï¼Œé»˜è®¤çš„ <code>edge</code> å›¾å½¢å®šä¹‰äº† <code>'line'</code>ï¼ˆ<code>&lt;path&gt;</code> å…ƒç´ ï¼‰ å’Œ <code>'wrap'</code>ï¼ˆé€æ˜çš„ <code>&lt;path&gt;</code> å…ƒç´ ï¼Œæ›´å®½ä½†ä¸å¯è§ï¼Œä¸ºäº†æ–¹ä¾¿äº¤äº’ï¼‰ä¸¤ä¸ªé€‰æ‹©å™¨(Selector)ï¼Œæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·æ¥å®šåˆ¶è¾¹çš„æ ·å¼ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  nodes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
      x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token string">'ellipse'</span><span class="token punctuation">,</span>
      x<span class="token operator">:</span> <span class="token number">240</span><span class="token punctuation">,</span>
      y<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  edges<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      source<span class="token operator">:</span> <span class="token string">'node1'</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'node2'</span><span class="token punctuation">,</span>
      attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        line<span class="token operator">:</span> <span class="token punctuation">{</span>
          stroke<span class="token operator">:</span> <span class="token string">'orange'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><iframe src="https://x6.antv.vision/demos/tutorial/getting-started/edge-style" style="width:100%;height:375px;border:0;"></iframe> <h2 id="åŸºæœ¬æ•™ç¨‹"><a href="#åŸºæœ¬æ•™ç¨‹" class="header-anchor">#</a> åŸºæœ¬æ•™ç¨‹</h2> <p>åœ¨ X6 ä¸­ï¼ŒGraph æ˜¯å›¾çš„è½½ä½“ï¼Œå®ƒåŒ…å«äº†å›¾ä¸Šçš„æ‰€æœ‰å…ƒç´ ï¼ˆèŠ‚ç‚¹ã€è¾¹ç­‰ï¼‰ï¼ŒåŒæ—¶æŒ‚è½½äº†å›¾çš„ç›¸å…³æ“ä½œï¼ˆå¦‚äº¤äº’ç›‘å¬ã€å…ƒç´ æ“ä½œã€æ¸²æŸ“ç­‰ï¼‰ã€‚</p> <h3 id="ç”»å¸ƒ-graph-å¹³ç§»ã€ç¼©æ”¾ã€å±…ä¸­"><a href="#ç”»å¸ƒ-graph-å¹³ç§»ã€ç¼©æ”¾ã€å±…ä¸­" class="header-anchor">#</a> ç”»å¸ƒ Graph å¹³ç§»ã€ç¼©æ”¾ã€å±…ä¸­</h3> <h4 id="ç”»å¸ƒå¹³ç§»"><a href="#ç”»å¸ƒå¹³ç§»" class="header-anchor">#</a> ç”»å¸ƒå¹³ç§»</h4> <p>æ™®é€šç”»å¸ƒ(æœªå¼€å¯ <a href="/zh/docs/tutorial/basic/scroller">scroller</a> æ¨¡å¼)é€šè¿‡å¼€å¯ <code>panning</code> é€‰é¡¹æ¥æ”¯æŒæ‹–æ‹½å¹³ç§»ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  panning<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ç­‰åŒäº</span>
<span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  panning<span class="token operator">:</span> <span class="token punctuation">{</span>
    enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ‹–æ‹½å¯èƒ½å’Œå…¶ä»–æ“ä½œå†²çªï¼Œæ­¤æ—¶å¯ä»¥è®¾ç½® <code>modifiers</code> å‚æ•°ï¼Œè®¾ç½®ä¿®é¥°é”®åéœ€è¦æŒ‰ä¸‹ä¿®é¥°é”®å¹¶ç‚¹å‡»é¼ æ ‡æ‰èƒ½è§¦å‘ç”»å¸ƒæ‹–æ‹½ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  panning<span class="token operator">:</span> <span class="token punctuation">{</span>
    enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    modifiers<span class="token operator">:</span> <span class="token string">'shift'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿˜å¯ä»¥é…ç½® <code>eventTypes</code> æ¥è®¾ç½®è§¦å‘ç”»å¸ƒæ‹–æ‹½çš„è¡Œä¸ºï¼Œæ”¯æŒ <code>leftMouseDown</code>ã€ <code>rightMouseDown</code>ã€<code>mouseWheel</code>ï¼Œé»˜è®¤ä¸º <code>['leftMouseDown']</code> ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  panning<span class="token operator">:</span> <span class="token punctuation">{</span>
    enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    eventTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'leftMouseDown'</span><span class="token punctuation">,</span> <span class="token string">'rightMouseDown'</span><span class="token punctuation">,</span> <span class="token string">'mouseWheel'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹ API æ¥å¯ç”¨/ç¦æ­¢ç”»å¸ƒå¹³ç§»ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">isPannable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç”»å¸ƒæ˜¯å¦å¯ä»¥å¹³ç§»</span>
graph<span class="token punctuation">.</span><span class="token function">enablePanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¯ç”¨ç”»å¸ƒå¹³ç§»</span>
graph<span class="token punctuation">.</span><span class="token function">disablePanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç¦æ­¢ç”»å¸ƒå¹³ç§»</span>
graph<span class="token punctuation">.</span><span class="token function">togglePanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åˆ‡æ¢ç”»å¸ƒå¹³ç§»çŠ¶æ€</span>
</code></pre></div><h4 id="ç”»å¸ƒç¼©æ”¾"><a href="#ç”»å¸ƒç¼©æ”¾" class="header-anchor">#</a> ç”»å¸ƒç¼©æ”¾</h4> <p>æ™®é€šç”»å¸ƒ(æœªå¼€å¯ <a href="/zh/docs/tutorial/basic/scroller">scroller</a> æ¨¡å¼)é€šè¿‡å¼€å¯ <a href="/zh/docs/tutorial/basic/mousewheel">mousewheel</a> é€‰é¡¹æ¥æ”¯æŒç”»å¸ƒç¼©æ”¾ã€‚è¿™é‡Œè¯´æ˜æ€ä¹ˆé€šè¿‡ä»£ç æ¥è¿›è¡Œç”»å¸ƒç¼©æ”¾ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">zoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–ç¼©æ”¾çº§åˆ«</span>
graph<span class="token punctuation">.</span><span class="token function">zoom</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span> <span class="token comment">// åœ¨åŸæ¥ç¼©æ”¾çº§åˆ«ä¸Šå¢åŠ  0.2</span>
graph<span class="token punctuation">.</span><span class="token function">zoom</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.2</span><span class="token punctuation">)</span> <span class="token comment">// åœ¨åŸæ¥ç¼©æ”¾çº§åˆ«ä¸Šå‡å°‘ 0.2</span>
</code></pre></div><h4 id="å†…å®¹å±…ä¸­"><a href="#å†…å®¹å±…ä¸­" class="header-anchor">#</a> å†…å®¹å±…ä¸­</h4> <p>å¸¸ç”¨çš„å°±æ˜¯å°†ç”»å¸ƒå†…å®¹ä¸­å¿ƒä¸è§†å£ä¸­å¿ƒå¯¹é½ï¼Œä½¿ç”¨æ–¹å¼ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">centerContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æ›´å¤šçš„å±…ä¸­æ–¹æ³•å¯ä»¥æŸ¥çœ‹ <a href="/zh/docs/api/graph/transform">Transform</a></p> <h3 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="header-anchor">#</a> å¯¼å‡º</h3> <h4 id="å¯¼å‡º-svg"><a href="#å¯¼å‡º-svg" class="header-anchor">#</a> å¯¼å‡º SVG</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">.</span><span class="token function">toSVG</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataUri<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸‹è½½</span>
  DataUri<span class="token punctuation">.</span><span class="token function">downloadDataUri</span><span class="token punctuation">(</span>DataUri<span class="token punctuation">.</span><span class="token function">svgToDataUrl</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'chart.svg'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>toSVG</code> æ–¹æ³•è¿˜æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ToSVGOptions</span> <span class="token punctuation">{</span>
  preserveDimensions<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> Size
  viewBox<span class="token operator">?</span><span class="token operator">:</span> Rectangle<span class="token punctuation">.</span>RectangleLike
  copyStyles<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  stylesheet<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  serializeImages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  beforeSerialize<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Graph<span class="token punctuation">,</span> svg<span class="token operator">:</span> SVGSVGElement<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="preservedimensions"><a href="#preservedimensions" class="header-anchor">#</a> preserveDimensions</h4> <p><code>preserveDimensions</code> ç”¨æ¥æ§åˆ¶å¯¼å‡º <code>svg</code> çš„å°ºå¯¸, å¦‚æœä¸è®¾ç½®ï¼Œ<code>width</code> å’Œ <code>height</code> é»˜è®¤ä¸º <code>100%</code>ï¼›å¦‚æœè®¾ç½®ä¸º <code>true</code>, <code>width</code> å’Œ <code>height</code> ä¼šè‡ªåŠ¨è®¡ç®—ä¸ºå›¾å½¢åŒºåŸŸçš„å®é™…å¤§å°ã€‚è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è‡ªå®šä¹‰å°ºå¯¸ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">.</span><span class="token function">toSVG</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataUri<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  preserveDimensions<span class="token operator">:</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="viewbox"><a href="#viewbox" class="header-anchor">#</a> viewBox</h5> <p>è®¾ç½®å¯¼å‡º <code>svg</code> çš„ <code>viewBox</code></p> <h4 id="copystyles"><a href="#copystyles" class="header-anchor">#</a> copyStyles</h4> <p>æ˜¯å¦å¤åˆ¶å¤–éƒ¨æ ·å¼è¡¨ä¸­çš„æ ·å¼ï¼Œé»˜è®¤æ˜¯ <code>true</code>ã€‚å¼€å¯ <code>copyStyles</code> åï¼Œåœ¨å¯¼å‡ºè¿‡ç¨‹ä¸­å› ä¸ºéœ€è¦ç¦ç”¨æ‰€æœ‰æ ·å¼è¡¨ï¼Œæ‰€ä»¥é¡µé¢å¯èƒ½ä¼šå‡ºç°çŸ­æš‚çš„æ ·å¼ä¸¢å¤±ç°è±¡ã€‚å¦‚æœæ•ˆæœç‰¹åˆ«å·®ï¼Œå¯ä»¥å°† <code>copyStyles</code> è®¾ç½®ä¸º <code>false</code>ã€‚</p> <h4 id="stylesheet"><a href="#stylesheet" class="header-anchor">#</a> stylesheet</h4> <p>è‡ªå®šä¹‰æ ·å¼è¡¨</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">.</span><span class="token function">toSVG</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataUri<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// todo</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  stylesheet<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    rect {
      fill: red;
    }
  </span><span class="token template-punctuation string">`</span></span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="serializeimages"><a href="#serializeimages" class="header-anchor">#</a> serializeImages</h5> <p>æ˜¯å¦å°† <code>image</code> å…ƒç´ çš„ <code>xlink:href</code> é“¾æ¥è½¬åŒ–ä¸º <code>dataUri</code> æ ¼å¼</p> <h5 id="beforeserialize"><a href="#beforeserialize" class="header-anchor">#</a> beforeSerialize</h5> <p>å¯ä»¥åœ¨å¯¼å‡º <code>svg</code> å­—ç¬¦ä¸²ä¹‹å‰è°ƒç”¨ <code>beforeSerialize</code> æ¥ä¿®æ”¹å®ƒã€‚</p> <h4 id="å¯¼å‡º-png-jpeg"><a href="#å¯¼å‡º-png-jpeg" class="header-anchor">#</a> å¯¼å‡º PNG/JPEG</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> DataUri <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@antv/x6'</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">.</span><span class="token function">toPNG</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataUri<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸‹è½½</span>
  DataUri<span class="token punctuation">.</span><span class="token function">downloadDataUri</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">,</span> <span class="token string">'chart.png'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>toPNG/toJPEG</code> æ–¹æ³•ç¬¬äºŒä¸ªå‚æ•°é™¤äº† <code>toSVG</code> çš„æ‰€æœ‰å‚æ•°å¤–ï¼Œè¿˜æ”¯æŒä»¥ä¸‹å‚æ•°ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ToImageOptions</span> <span class="token punctuation">{</span>
  width<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  height<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  backgroundColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  padding<span class="token operator">?</span><span class="token operator">:</span> NumberExt<span class="token punctuation">.</span>SideOptions
  quality<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="width"><a href="#width" class="header-anchor">#</a> width</h5> <p>å¯¼å‡ºå›¾ç‰‡çš„å®½åº¦</p> <h5 id="height"><a href="#height" class="header-anchor">#</a> height</h5> <p>å¯¼å‡ºå›¾ç‰‡çš„é«˜åº¦</p> <h5 id="backgroundcolor"><a href="#backgroundcolor" class="header-anchor">#</a> backgroundColor</h5> <p>å¯¼å‡ºå›¾ç‰‡çš„èƒŒæ™¯è‰²</p> <h5 id="padding"><a href="#padding" class="header-anchor">#</a> padding</h5> <p>å›¾ç‰‡çš„ <code>padding</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">.</span><span class="token function">toPNG</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dataUri<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸‹è½½</span>
  DataUri<span class="token punctuation">.</span><span class="token function">downloadDataUri</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">,</span> <span class="token string">'chart.png'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  padding<span class="token operator">:</span> <span class="token punctuation">{</span>
    top<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    right<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    bottom<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
    left<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="quality"><a href="#quality" class="header-anchor">#</a> quality</h5> <p>å›¾ç‰‡è´¨é‡ï¼Œå¯ä»¥ä» 0 åˆ° 1 çš„åŒºé—´å†…é€‰æ‹©å›¾ç‰‡çš„è´¨é‡ã€‚å¦‚æœè¶…å‡ºå–å€¼èŒƒå›´ï¼Œå°†ä¼šä½¿ç”¨é»˜è®¤å€¼ <code>0.92</code></p> <h3 id="é”€æ¯ç”»å¸ƒ"><a href="#é”€æ¯ç”»å¸ƒ" class="header-anchor">#</a> é”€æ¯ç”»å¸ƒ</h3> <p>æˆ‘ä»¬å¯ä»¥è°ƒç”¨ <code>graph.dispose()</code> æ–¹æ³•è¿›è¡Œç”»å¸ƒçš„é”€æ¯ä»¥åŠèµ„æºçš„å›æ”¶ã€‚</p> <h2 id="é¡¹ç›®ä¸­ç”¨åˆ°çš„æ–¹æ³•"><a href="#é¡¹ç›®ä¸­ç”¨åˆ°çš„æ–¹æ³•" class="header-anchor">#</a> é¡¹ç›®ä¸­ç”¨åˆ°çš„æ–¹æ³•</h2> <h3 id="draggable"><a href="#draggable" class="header-anchor">#</a> draggable</h3> <ul><li>ç»™éœ€è¦æ‹–æ‹½çš„å…ƒç´ æ·»åŠ  draggable å±æ€§å¹¶è®¾ç½®ä¸º trueï¼Œç„¶åæ·»åŠ  ondrag äº‹ä»¶ã€‚</li> <li>ç»™æ¥æ”¶æ‹–æ‹½å…ƒç´ çš„æ”¾ç½®å…ƒç´ åŒæ—¶è®¾ç½® ondragover å’Œ ondrop äº‹ä»¶ï¼Œå¿…é¡»åœ¨é‡Œè¾¹é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œå› ä¸ºæµè§ˆå™¨å¯¹æ‹–æ‹½äº‹ä»¶é»˜è®¤çš„å¤„ç†æ–¹å¼æ˜¯ç¦æ­¢æ‹–æ‹½</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div
    ref<span class="token operator">=</span><span class="token string">&quot;draggable&quot;</span>
    <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;draggable-box&quot;</span>
    draggable<span class="token operator">=</span><span class="token string">&quot;true&quot;</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">dragstart</span></span><span class="token operator">=</span><span class="token string">&quot;onDragstart&quot;</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">drag</span></span><span class="token operator">=</span><span class="token string">&quot;onDrag&quot;</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">dragend</span></span><span class="token operator">=</span><span class="token string">&quot;onDragend&quot;</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> setup<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> dragEmit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'onDragStart'</span><span class="token punctuation">,</span> <span class="token string">'onDrag'</span><span class="token punctuation">,</span> <span class="token string">'onDragEnd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onDragstart</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dragEmit</span><span class="token punctuation">(</span><span class="token string">'onDragStart'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onDrag</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dragEmit</span><span class="token punctuation">(</span><span class="token string">'onDrag'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onDragend</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dragEmit</span><span class="token punctuation">(</span><span class="token string">'onDragEnd'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

 <span class="token operator">&lt;</span>div
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">dragenter</span></span><span class="token punctuation">.</span>prevent
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">dragover</span></span><span class="token punctuation">.</span>prevent
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">dragleave</span></span><span class="token punctuation">.</span>prevent
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">drop</span></span><span class="token punctuation">.</span>stop<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">&quot;onEmptyDrop&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="è¿çº¿éªŒè¯-validateconnection"><a href="#è¿çº¿éªŒè¯-validateconnection" class="header-anchor">#</a> è¿çº¿éªŒè¯ï¼ˆvalidateConnectionï¼‰</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">validateConnection</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      sourceMagnet<span class="token punctuation">,</span>
      targetMagnet<span class="token punctuation">,</span>
      sourceCell<span class="token punctuation">,</span>
      targetCell<span class="token punctuation">,</span>
      targetView<span class="token punctuation">,</span>
      sourcePort<span class="token punctuation">,</span>
      edge<span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> data
    <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceCell <span class="token operator">&amp;&amp;</span> targetCell <span class="token operator">&amp;&amp;</span> sourceCell<span class="token punctuation">.</span><span class="token function">isNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> targetCell<span class="token punctuation">.</span><span class="token function">isNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// èµ·ç‚¹ä¸èƒ½æ˜¯è¾“å…¥è¿æ¥å¹¢</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sourceMagnet <span class="token operator">||</span> sourceMagnet<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'port-group'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">X6_PORT_IN_NAME</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// ç›®æ ‡é“¾æ¥å¹¢åªèƒ½æ˜¯è¾“å…¥</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>targetMagnet <span class="token operator">||</span> targetMagnet<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'port-group'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant">X6_PORT_IN_NAME</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// è¾“å…¥è¿æ¥å¹¢ åªèƒ½æœ‰ä¸€ä¸ªè¿çº¿</span>
      <span class="token keyword">const</span> portId <span class="token operator">=</span> targetMagnet<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token operator">!</span>
      <span class="token keyword">const</span> node<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> targetView<span class="token operator">!</span><span class="token punctuation">.</span>cell
      <span class="token keyword">const</span> port <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span>portId<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>port <span class="token operator">&amp;&amp;</span> port<span class="token punctuation">.</span>connected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æ­¤å¤„åç»­å¯æ·»åŠ  èŠ‚ç‚¹æ˜¯å¦å¤±æ•ˆé€»è¾‘</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>sourcePort <span class="token operator">===</span> <span class="token constant">FILTER_OUT_PORT_YES</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      edge<span class="token operator">?.</span><span class="token function">setLabels</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          attrs<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'YES'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>sourcePort <span class="token operator">===</span> <span class="token constant">FILTER_OUT_PORT_NO</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      edge<span class="token operator">?.</span><span class="token function">setLabels</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          attrs<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'NO'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="äº‹ä»¶ç³»ç»Ÿ"><a href="#äº‹ä»¶ç³»ç»Ÿ" class="header-anchor">#</a> äº‹ä»¶ç³»ç»Ÿ</h3> <h4 id="å³é”®èœå•åŠè‡ªå®šä¹‰äº‹ä»¶"><a href="#å³é”®èœå•åŠè‡ªå®šä¹‰äº‹ä»¶" class="header-anchor">#</a> å³é”®èœå•åŠè‡ªå®šä¹‰äº‹ä»¶</h4> <ul><li>å³é”®	cell:contextmenu	node:contextmenu	edge:contextmenu	blank:contextmenu</li> <li>è‡ªå®šä¹‰äº‹ä»¶ cell:customeventã€node:customeventã€edge:customevent</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:contextmenu'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> e <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  nodeVariables<span class="token punctuation">.</span>menuCell <span class="token operator">=</span> cell <span class="token keyword">as</span> Cell
  nodeVariables<span class="token punctuation">.</span>menuVisible <span class="token operator">=</span> <span class="token boolean">true</span>
  nodeVariables<span class="token punctuation">.</span>eventType <span class="token operator">=</span> <span class="token string">'contextmenu'</span>
  <span class="token keyword">const</span> pos <span class="token operator">=</span> graph<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">clientToGraph</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>pageY <span class="token operator">+</span> <span class="token number">80</span><span class="token punctuation">)</span>
  nodeVariables<span class="token punctuation">.</span>pageX <span class="token operator">=</span> pos<span class="token operator">?.</span>x <span class="token keyword">as</span> <span class="token builtin">number</span>
  nodeVariables<span class="token punctuation">.</span>pageY <span class="token operator">=</span> pos<span class="token operator">?.</span>y <span class="token keyword">as</span> <span class="token builtin">number</span>
  graph<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">lockScroller</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬çš„å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‚¹å‡»äº‹ä»¶ï¼Œå½“é¼ æ ‡æŒ‰ä¸‹é‚£ä¸€åˆ»ï¼Œå°±è§¦å‘äº†ï¼›è¿™æ ·å°±ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒä¸clickOutSideçš„è§¦å‘æ—¶æœºé—®é¢˜</p></div> <h3 id="èŠ‚ç‚¹-è¾¹"><a href="#èŠ‚ç‚¹-è¾¹" class="header-anchor">#</a> èŠ‚ç‚¹/è¾¹</h3> <h4 id="æ·»åŠ -åˆ é™¤-ä¿®æ”¹"><a href="#æ·»åŠ -åˆ é™¤-ä¿®æ”¹" class="header-anchor">#</a> æ·»åŠ /åˆ é™¤/ä¿®æ”¹</h4> <p>å½“èŠ‚ç‚¹/è¾¹è¢«æ·»åŠ åˆ°ç”»å¸ƒæ—¶ï¼Œè§¦å‘ä»¥ä¸‹äº‹ä»¶ï¼š</p> <ul><li><code>added</code></li> <li><code>cell:added</code></li> <li><code>node:added</code>ï¼ˆä»…å½“ cell æ˜¯èŠ‚ç‚¹æ—¶æ‰è§¦å‘ï¼‰</li> <li><code>edge:added</code>ï¼ˆä»…å½“ cell æ˜¯è¾¹æ—¶æ‰è§¦å‘ï¼‰</li></ul> <p>å½“èŠ‚ç‚¹/è¾¹è¢«ç§»é™¤æ—¶ï¼Œè§¦å‘ä»¥ä¸‹äº‹ä»¶ï¼š</p> <ul><li><code>removed</code></li> <li><code>cell:removed</code></li> <li><code>node:removed</code>ï¼ˆä»…å½“ cell æ˜¯èŠ‚ç‚¹æ—¶æ‰è§¦å‘ï¼‰</li> <li><code>edge:removed</code>ï¼ˆä»…å½“ cell æ˜¯è¾¹æ—¶æ‰è§¦å‘ï¼‰</li></ul> <p>å½“èŠ‚ç‚¹/è¾¹å‘ç”Ÿä»»ä½•æ”¹å˜æ—¶ï¼Œè§¦å‘ä»¥ä¸‹äº‹ä»¶ï¼š</p> <ul><li><code>changed</code></li> <li><code>cell:changed</code></li> <li><code>node:changed</code>ï¼ˆä»…å½“ cell æ˜¯èŠ‚ç‚¹æ—¶æ‰è§¦å‘ï¼‰</li> <li><code>edge:changed</code>ï¼ˆä»…å½“ cell æ˜¯è¾¹æ—¶æ‰è§¦å‘ï¼‰</li></ul> <p>å¯ä»¥åœ¨èŠ‚ç‚¹/è¾¹ä¸Šç›‘å¬ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'added'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
cell<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'removed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
cell<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'changed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æˆ–è€…åœ¨ Graph ä¸Šç›‘å¬ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:added'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:removed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:changed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'node:added'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> node<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'node:removed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> node<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'node:changed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> node<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'edge:added'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> edge<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'edge:removed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> edge<span class="token punctuation">,</span> index<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'edge:changed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> edge<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="change-xxx"><a href="#change-xxx" class="header-anchor">#</a> change:xxx</h4> <p>å½“è°ƒç”¨ <code>setXxx(val, options)</code> å’Œ <code>removeXxx(options)</code> æ–¹æ³•å»æ”¹å˜èŠ‚ç‚¹/è¾¹çš„æ•°æ®æ—¶ï¼Œå¹¶ä¸” <code>options.silent</code> ä¸ä¸º <code>true</code> æ—¶ï¼Œéƒ½å°†è§¦å‘å¯¹åº”çš„ <code>chang</code> äº‹ä»¶ï¼Œå¹¶è§¦å‘èŠ‚ç‚¹/è¾¹é‡ç»˜ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setZIndex</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
cell<span class="token punctuation">.</span><span class="token function">setZIndex</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> silent<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
cell<span class="token punctuation">.</span><span class="token function">setZIndex</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> anyKey<span class="token operator">:</span> <span class="token string">'anyValue'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å°†è§¦å‘ Cell ä¸Šçš„ä»¥ä¸‹äº‹ä»¶ï¼š</p> <ul><li><code>change:*</code></li> <li><code>change:zIndex</code></li></ul> <p>å’Œ Graph ä¸Šçš„ä»¥ä¸‹äº‹ä»¶ï¼š</p> <ul><li><code>cell:change:*</code></li> <li><code>node:change:*</code>ï¼ˆä»…å½“ cell æ˜¯èŠ‚ç‚¹æ—¶æ‰è§¦å‘ï¼‰</li> <li><code>edge:change:*</code>ï¼ˆä»…å½“ cell æ˜¯è¾¹æ—¶æ‰è§¦å‘ï¼‰</li> <li><code>cell:change:zIndex</code></li> <li><code>node:change:zIndex</code>ï¼ˆä»…å½“ cell æ˜¯èŠ‚ç‚¹æ—¶æ‰è§¦å‘ï¼‰</li> <li><code>edge:change:zIndex</code>ï¼ˆä»…å½“ cell æ˜¯è¾¹æ—¶æ‰è§¦å‘ï¼‰</li></ul> <p>å¯ä»¥åœ¨èŠ‚ç‚¹/è¾¹ä¸Šç›‘å¬ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// å½“ cell å‘ç”Ÿä»»ä½•æ”¹å˜æ—¶éƒ½å°†è¢«è§¦å‘ï¼Œå¯ä»¥é€šè¿‡ key æ¥ç¡®å®šæ”¹å˜é¡¹</span>
cell<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell    
  key<span class="token operator">:</span> <span class="token builtin">string</span>   <span class="token comment">// é€šè¿‡ key æ¥ç¡®å®šæ”¹å˜é¡¹</span>
  current<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// å½“å‰å€¼</span>
  previous<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'zIndex'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

cell<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:zIndex'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell
  current<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>  <span class="token comment">// å½“å‰å€¼</span>
  previous<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>      <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æˆ–è€…åœ¨ Graph ä¸Šç›‘å¬ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:change:*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell    
  key<span class="token operator">:</span> <span class="token builtin">string</span>   <span class="token comment">// é€šè¿‡ key æ¥ç¡®å®šæ”¹å˜é¡¹</span>
  current<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// å½“å‰å€¼ï¼Œç±»å‹æ ¹æ® key æŒ‡ä»£çš„ç±»å‹ç¡®å®š</span>
  previous<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼ï¼Œç±»å‹æ ¹æ® key æŒ‡ä»£çš„ç±»å‹ç¡®å®š</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å½“ cell ä¸ºèŠ‚ç‚¹æ—¶è§¦å‘</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'node:change:*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell    
  node<span class="token operator">:</span> Node
  key<span class="token operator">:</span> <span class="token builtin">string</span>   <span class="token comment">// é€šè¿‡ key æ¥ç¡®å®šæ”¹å˜é¡¹</span>
  current<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// å½“å‰å€¼ï¼Œç±»å‹æ ¹æ® key æŒ‡ä»£çš„ç±»å‹ç¡®å®š</span>
  previous<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼ï¼Œç±»å‹æ ¹æ® key æŒ‡ä»£çš„ç±»å‹ç¡®å®š</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å½“ cell ä¸ºè¾¹æ—¶è§¦å‘</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'edge:change:*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell    
  edge<span class="token operator">:</span> Edge
  key<span class="token operator">:</span> <span class="token builtin">string</span>   <span class="token comment">// é€šè¿‡ key æ¥ç¡®å®šæ”¹å˜é¡¹</span>
  current<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// å½“å‰å€¼ï¼Œç±»å‹æ ¹æ® key æŒ‡ä»£çš„ç±»å‹ç¡®å®š</span>
  previous<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼ï¼Œç±»å‹æ ¹æ® key æŒ‡ä»£çš„ç±»å‹ç¡®å®š</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:change:zIndex'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell
  current<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>  <span class="token comment">// å½“å‰å€¼</span>
  previous<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>      <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å½“ cell ä¸ºèŠ‚ç‚¹æ—¶è§¦å‘</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'node:change:zIndex'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell
  node<span class="token operator">:</span> Node
  current<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>  <span class="token comment">// å½“å‰å€¼</span>
  previous<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>      <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å½“ cell ä¸ºè¾¹æ—¶è§¦å‘</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'edge:change:zIndex'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token punctuation">{</span>
  cell<span class="token operator">:</span> Cell
  edge<span class="token operator">:</span> Edge        
  current<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>  <span class="token comment">// å½“å‰å€¼</span>
  previous<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// æ”¹å˜ä¹‹å‰çš„å€¼</span>
  options<span class="token operator">:</span> <span class="token builtin">any</span>      <span class="token comment">// é€ä¼ çš„ options</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å…¶ä»– <code>change</code> äº‹ä»¶å¦‚ä¸‹åˆ—è¡¨ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°ä¸ä¸Šé¢æåˆ°çš„ <code>change:zIndex</code> çš„å‚æ•°ç»“æ„ä¸€è‡´ã€‚</p> <ul><li>Cell
<ul><li><code>change:*</code></li> <li><code>change:attrs</code></li> <li><code>change:zIndex</code></li> <li><code>change:markup</code></li> <li><code>change:visible</code></li> <li><code>change:parent</code></li> <li><code>change:children</code></li> <li><code>change:view</code></li> <li><code>change:data</code></li></ul></li> <li>Node
<ul><li><code>change:size</code></li> <li><code>change:angle</code></li> <li><code>change:position</code></li> <li><code>change:ports</code></li> <li><code>change:portMarkup</code></li> <li><code>change:portLabelMarkup</code></li> <li><code>change:portContainerMarkup</code></li> <li><code>ports:added</code></li> <li><code>ports:removed</code></li></ul></li> <li>Edge
<ul><li><code>change:source</code></li> <li><code>change:target</code></li> <li><code>change:terminal</code></li> <li><code>change:router</code></li> <li><code>change:connector</code></li> <li><code>change:vertices</code></li> <li><code>change:labels</code></li> <li><code>change:defaultLabel</code></li> <li><code>change:toolMarkup</code></li> <li><code>change:doubleToolMarkup</code></li> <li><code>change:vertexMarkup</code></li> <li><code>change:arrowheadMarkup</code></li> <li><code>vertexs:added</code></li> <li><code>vertexs:removed</code></li> <li><code>labels:added</code></li> <li><code>labels:removed</code></li></ul></li></ul> <p>é™¤äº†ä¸Šè¿°è¿™äº›å†…ç½®çš„ Keyï¼Œæˆ‘ä»¬ä¹Ÿæ”¯æŒç›‘å¬è‡ªå®šä¹‰çš„ Keyï¼Œä¾‹å¦‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:custom'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cell<span class="token punctuation">,</span> current<span class="token punctuation">,</span> previous<span class="token punctuation">,</span> options<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“é€šè¿‡ <code>cell.prop('custom', 'any data')</code> æ–¹æ³•ä¿®æ”¹ <code>custom</code> å±æ€§çš„å€¼æ—¶å°†è§¦å‘ <code>change:custom</code> äº‹ä»¶ã€‚</p> <h4 id="isnode"><a href="#isnode" class="header-anchor">#</a> isNode()</h4> <div class="language-sign extra-class"><pre class="language-text"><code>isNode(): boolean
</code></pre></div><p>æ£€æµ‹å®ä¾‹æ˜¯ä¸æ˜¯ <a href="/zh/docs/api/model/node">Node</a> å®ä¾‹ï¼Œå¦‚æœæ˜¯ <a href="/zh/docs/api/model/node">Node</a> å®ä¾‹åˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚æ‰€æœ‰ç»§æ‰¿è‡ª <a href="/zh/docs/api/model/node">Node</a> çš„èŠ‚ç‚¹éƒ½è¿”å› <code>true</code>ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something if the cell is a node.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="cell"><a href="#cell" class="header-anchor">#</a> Cell</h3> <h4 id="isedge"><a href="#isedge" class="header-anchor">#</a> isEdge()</h4> <div class="language-sign extra-class"><pre class="language-text"><code>isEdge(): boolean
</code></pre></div><p>æ£€æµ‹å®ä¾‹æ˜¯ä¸æ˜¯ <a href="/zh/docs/api/model/edge">Edge</a> å®ä¾‹ï¼Œå¦‚æœæ˜¯ <a href="/zh/docs/api/model/edge">Edge</a> å®ä¾‹åˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚æ‰€æœ‰ç»§æ‰¿è‡ª <a href="/zh/docs/api/model/edge">Edge</a> çš„è¾¹éƒ½è¿”å› <code>true</code>ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something if the cell is an edge.</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="å…ƒç´ å±æ€§-attrs"><a href="#å…ƒç´ å±æ€§-attrs" class="header-anchor">#</a> å…ƒç´ å±æ€§ attrs</h4> <p>å±æ€§ <code>attrs</code> æ˜¯ä¸€ä¸ª<a href="#attrs-1">å¤æ‚å¯¹è±¡</a>ï¼Œå½“ä¿®æ”¹ <code>attrs</code> æ—¶ï¼Œå°†è§¦å‘ <code>'change:attrs'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</p> <h5 id="get-attrs"><a href="#get-attrs" class="header-anchor">#</a> get attrs</h5> <p>è·å–å±æ€§ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> atts <span class="token operator">=</span> cell<span class="token punctuation">.</span>attrs
</code></pre></div><h5 id="set-attrs"><a href="#set-attrs" class="header-anchor">#</a> set attrs</h5> <p>è®¾ç½®å±æ€§ï¼Œå¹¶è§¦å‘ <code>'change:attrs'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span>atts <span class="token operator">=</span> attrs
</code></pre></div><h5 id="getattrs"><a href="#getattrs" class="header-anchor">#</a> getAttrs()</h5> <div class="language-sign extra-class"><pre class="language-text"><code>getAttrs(): Attr.CellAttrs
</code></pre></div><p>è·å–å±æ€§ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> atts <span class="token operator">=</span> cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="setattrs"><a href="#setattrs" class="header-anchor">#</a> setAttrs(...)</h5> <div class="language-sign extra-class"><pre class="language-text"><code>setAttrs(attrs: Attr.CellAttrs, options?: Cell.SetAttrOptions): this
</code></pre></div><p>è®¾ç½®å±æ€§ï¼Œé»˜è®¤æƒ…å†µè§¦å‘ <code>'change:attrs'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th style="text-align:center;">å¿…é€‰</th> <th>é»˜è®¤å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>attrs</td> <td>Attr.CellAttrs | null | undefined</td> <td style="text-align:center;">âœ“</td> <td></td> <td></td></tr> <tr><td>options.overwrite</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>ä¸º <code>true</code> æ—¶æ›¿æ¢ç°æœ‰å±æ€§ï¼Œå¦åˆ™æ ¹æ® <code>options.deep</code> é€‰é¡¹è¿›è¡Œæ·±åº¦æˆ–æµ…åº¦ mergeã€‚</td></tr> <tr><td>options.deep</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>true</code></td> <td>å½“ <code>options.overwrite</code> ä¸º <code>false</code> æ—¶æœ‰æ•ˆï¼Œ ä¸º <code>true</code> æ—¶è¿›è¡Œæ·±åº¦ mergeï¼Œå¦åˆ™è¿›è¡Œæµ… mergeã€‚</td></tr> <tr><td>options.silent</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>ä¸º <code>true</code> æ—¶ä¸è§¦å‘ <code>'change:attrs'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</td></tr> <tr><td>options...others</td> <td>object</td> <td style="text-align:center;"></td> <td></td> <td>å…¶ä»–è‡ªå®šä¹‰é”®å€¼å¯¹ï¼Œå¯ä»¥åœ¨äº‹ä»¶å›è°ƒä¸­ä½¿ç”¨ã€‚</td></tr></tbody></table> <p>é»˜è®¤æƒ…å†µï¼ŒæŒ‡å®šçš„å±æ€§å°†ä¸æ—§å±æ€§è¿›è¡Œ<a href="https://www.lodashjs.com/docs/latest#_mergeobject-sources" target="_blank" rel="noopener noreferrer">æ·±åº¦ merge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   body: { fill: '#ffffff' },</span>
<span class="token comment">//   label: { fill: '#333333' },</span>
<span class="token comment">// }</span>

cell<span class="token punctuation">.</span><span class="token function">setAttrs</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  body<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'#f5f5f5'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'My Label'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   body: { fill: '#f5f5f5' },</span>
<span class="token comment">//   label: { fill: '#333333', text: 'My Label' },</span>
<span class="token comment">// }</span>
</code></pre></div><p>å½“ <code>options.deep</code> ä¸º <code>false</code> æ—¶ï¼Œè¿›è¡Œæµ… mergeï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   body: { fill: '#ffffff' },</span>
<span class="token comment">//   label: { fill: '#333333' },</span>
<span class="token comment">// }</span>

cell<span class="token punctuation">.</span><span class="token function">setAttrs</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'My Label'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   body: { fill: '#ffffff' },</span>
<span class="token comment">//   label: { text: 'My Label' },</span>
<span class="token comment">// }</span>
</code></pre></div><p>å½“ <code>options.overwrite</code> ä¸º <code>true</code> æ—¶ï¼Œç›´æ¥æ›¿æ¢æ—§å±æ€§ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   body: { fill: '#ffffff' },</span>
<span class="token comment">//   label: { fill: '#333333' },</span>
<span class="token comment">// }</span>

cell<span class="token punctuation">.</span><span class="token function">setAttrs</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'My Label'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span> overwrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">getAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {</span>
<span class="token comment">//   label: { text: 'My Label' },</span>
<span class="token comment">// }</span>
</code></pre></div><p>å½“ <code>options.silent</code> ä¸º true æ—¶ä¸è§¦å‘ <code>'change:attrs'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setAttrs</span><span class="token punctuation">(</span>myAttrs<span class="token punctuation">,</span> <span class="token punctuation">{</span> silent<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨é€‰é¡¹ä¸­æ”¯æŒå…¶ä»–è‡ªå®šä¹‰é”®å€¼å¯¹ï¼Œå¯ä»¥åœ¨äº‹ä»¶å›è°ƒç”¨ä½¿ç”¨ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setAttrs</span><span class="token punctuation">(</span>myAttrs<span class="token punctuation">,</span> <span class="token punctuation">{</span> otherKey<span class="token operator">:</span> <span class="token string">'otherValue'</span><span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="updateattrs"><a href="#updateattrs" class="header-anchor">#</a> updateAttrs(...)</h4> <div class="language-sign extra-class"><pre class="language-text"><code>updateAttrs(attrs: Attr.CellAttrs, options: Cell.SetOptions = {}): this
</code></pre></div><p>ä½¿ç”¨æµ… merge æ›´æ–°å±æ€§ï¼Œç›¸å½“äºè°ƒç”¨ <code>setAttrs(attrs, { ...options, deep: false })</code>ã€‚</p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th style="text-align:center;">å¿…é€‰</th> <th>é»˜è®¤å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>attrs</td> <td>Attr.CellAttrs | null | undefined</td> <td style="text-align:center;">âœ“</td> <td></td> <td></td></tr> <tr><td>options.silent</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>ä¸º <code>true</code> æ—¶ä¸è§¦å‘ <code>'change:attrs'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</td></tr> <tr><td>options...others</td> <td>object</td> <td style="text-align:center;"></td> <td></td> <td>å…¶ä»–è‡ªå®šä¹‰é”®å€¼å¯¹ï¼Œå¯ä»¥åœ¨äº‹ä»¶å›è°ƒä¸­ä½¿ç”¨ã€‚</td></tr></tbody></table> <h4 id="get-data"><a href="#get-data" class="header-anchor">#</a> get data</h4> <p>è·å–å…³è”çš„æ•°æ®ã€‚</p> <h4 id="set-data"><a href="#set-data" class="header-anchor">#</a> set data</h4> <p>è®¾ç½®å…³è”çš„æ•°æ®ï¼Œå¹¶è§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</p> <h4 id="getdata"><a href="#getdata" class="header-anchor">#</a> getData()</h4> <div class="language-sign extra-class"><pre class="language-text"><code>getData(): any
</code></pre></div><p>è·å–å…³è”çš„æ•°æ®ã€‚</p> <h4 id="setdata"><a href="#setdata" class="header-anchor">#</a> setData(...)</h4> <div class="language-sign extra-class"><pre class="language-text"><code>setData(data: any, options?: Cell.SetDataOptions): this
</code></pre></div><p>è®¾ç½®å…³è”çš„ä¸šåŠ¡æ•°æ®ã€‚</p> <p>é»˜è®¤æƒ…å†µè§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ï¼Œå½“ <code>options.silent</code> ä¸º <code>true</code> æ—¶ä¸è§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th style="text-align:center;">å¿…é€‰</th> <th>é»˜è®¤å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>data</td> <td>any</td> <td style="text-align:center;">âœ“</td> <td></td> <td></td></tr> <tr><td>options.overwrite</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>ä¸º <code>true</code> æ—¶æ›¿æ¢ç°æœ‰å€¼ï¼Œå¦åˆ™æ ¹æ® <code>options.deep</code> é€‰é¡¹è¿›è¡Œæ·±åº¦æˆ–æµ…åº¦ mergeã€‚</td></tr> <tr><td>options.deep</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>true</code></td> <td>å½“ <code>options.overwrite</code> ä¸º <code>false</code> æ—¶æœ‰æ•ˆï¼Œ ä¸º <code>true</code> æ—¶è¿›è¡Œæ·±åº¦ mergeï¼Œå¦åˆ™è¿›è¡Œæµ… mergeã€‚</td></tr> <tr><td>options.silent</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>ä¸º <code>true</code> æ—¶ä¸è§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</td></tr> <tr><td>options...others</td> <td>object</td> <td style="text-align:center;"></td> <td></td> <td>å…¶ä»–è‡ªå®šä¹‰é”®å€¼å¯¹ï¼Œå¯ä»¥åœ¨äº‹ä»¶å›è°ƒä¸­ä½¿ç”¨ã€‚</td></tr></tbody></table> <p>é»˜è®¤ä¸åŸæ•°æ®è¿›è¡Œ<a href="https://www.lodashjs.com/docs/latest#_mergeobject-sources" target="_blank" rel="noopener noreferrer">æ·±åº¦ merge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œå¹¶è§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre></div><p>å½“ <code>options.overwrite</code> ä¸º <code>true</code> æ—¶ï¼Œæ›¿æ¢æ—§æ•°æ®ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> overwrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ <code>options.deep</code> ä¸º <code>false</code> æ—¶ï¼Œä¸åŸæ•°æ®è¿›è¡Œæµ… mergeï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> overwrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ <code>options.silent</code> ä¸º <code>true</code> æ—¶ï¼Œä¸è§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> silent<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨é€‰é¡¹ä¸­æ”¯æŒå…¶ä»–è‡ªå®šä¹‰é”®å€¼å¯¹ï¼Œå¯ä»¥åœ¨äº‹ä»¶å›è°ƒç”¨ä½¿ç”¨ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code>cell<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> otherKey<span class="token operator">:</span> <span class="token string">'otherValue'</span><span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="updatedata"><a href="#updatedata" class="header-anchor">#</a> updateData(...)</h4> <div class="language-sign extra-class"><pre class="language-text"><code>updateData(data: any, options: Cell.SetOptions = {}): this
</code></pre></div><p>é€šè¿‡æµ… merge æ¥æ›´æ–°æ•°æ®ï¼Œç›¸å½“äºè°ƒç”¨ <code>setData(data, { ...options, deep: false })</code>ã€‚</p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th style="text-align:center;">å¿…é€‰</th> <th>é»˜è®¤å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>data</td> <td>any</td> <td style="text-align:center;">âœ“</td> <td></td> <td></td></tr> <tr><td>options.silent</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>ä¸º <code>true</code> æ—¶ä¸è§¦å‘ <code>'change:data'</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ã€‚</td></tr> <tr><td>options...others</td> <td>object</td> <td style="text-align:center;"></td> <td></td> <td>å…¶ä»–è‡ªå®šä¹‰é”®å€¼å¯¹ï¼Œå¯ä»¥åœ¨äº‹ä»¶å›è°ƒä¸­ä½¿ç”¨ã€‚</td></tr></tbody></table> <h3 id="model"><a href="#model" class="header-anchor">#</a> Model</h3> <h4 id="getneighbors"><a href="#getneighbors" class="header-anchor">#</a> getNeighbors(...)</h4> <div class="language-sign extra-class"><pre class="language-text"><code>getNeighbors(cell: Cell, options?: GetNeighborsOptions): Cell[]
</code></pre></div><p>è·å–é‚»å±…èŠ‚ç‚¹ã€‚</p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th style="text-align:center;">å¿…é€‰</th> <th>é»˜è®¤å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>cell</td> <td>Cell</td> <td style="text-align:center;">âœ“</td> <td></td> <td>èŠ‚ç‚¹/è¾¹ã€‚</td></tr> <tr><td>options.incoming</td> <td>boolean</td> <td style="text-align:center;"></td> <td>-</td> <td>æ˜¯å¦åŒ…å«è¾“å…¥ä¾§çš„é‚»å±…èŠ‚ç‚¹ï¼Œé»˜è®¤åŒ…å«è¾“å…¥å’Œè¾“å‡ºä¾§çš„èŠ‚ç‚¹ï¼Œ<code>incoming</code> å’Œ <code>outgoing</code> ä¸¤ä¸ªé€‰é¡¹ä¸­ï¼Œå½“ <code>incoming</code> ä¸º <code>true</code> æ—¶åªè¿”å›è¾“å…¥ä¾§çš„èŠ‚ç‚¹ã€‚</td></tr> <tr><td>options.outgoing</td> <td>boolean</td> <td style="text-align:center;"></td> <td>-</td> <td>æ˜¯å¦åŒ…å«è¾“å‡ºä¾§çš„é‚»å±…èŠ‚ç‚¹ï¼Œé»˜è®¤åŒ…å«è¾“å…¥å’Œè¾“å‡ºä¾§çš„èŠ‚ç‚¹ï¼Œ<code>incoming</code> å’Œ <code>outgoing</code> ä¸¤ä¸ªé€‰é¡¹ä¸­ï¼Œå½“ <code>outgoing</code> ä¸º <code>true</code> æ—¶åªè¿”å›è¾“å‡ºä¾§çš„èŠ‚ç‚¹ã€‚</td></tr> <tr><td>options.deep</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>æ˜¯å¦é€’å½’è·å–æ‰€æœ‰å­èŠ‚ç‚¹/è¾¹ï¼Œä¸º <code>true</code> æ—¶å°†åŒæ—¶è¿”å›æ‰€æœ‰å­å­™èŠ‚ç‚¹/è¾¹çš„é‚»å±…èŠ‚ç‚¹ã€‚</td></tr> <tr><td>options.indirect</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>æ˜¯å¦åŒ…å«å“ªäº›é—´æ¥è¿æ¥çš„é‚»å±…èŠ‚ç‚¹ï¼Œå³ä¸­é—´åŒ…å«å¤šæ¡è¾¹(è¾¹ä¸è¾¹è¿æ¥)çš„é‚»å±…ã€‚</td></tr></tbody></table> <h4 id="getpredecessors"><a href="#getpredecessors" class="header-anchor">#</a> getPredecessors(...)</h4> <div class="language-sign extra-class"><pre class="language-text"><code>getPredecessors(cell: Cell, options?: GetPredecessorsOptions): Cell[]
</code></pre></div><p>è¿”å›èŠ‚ç‚¹çš„å‰åºèŠ‚ç‚¹ï¼Œå³ä»æ ¹èŠ‚ç‚¹å¼€å§‹è¿æ¥åˆ°æŒ‡å®šèŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th style="text-align:center;">å¿…é€‰</th> <th>é»˜è®¤å€¼</th> <th>æè¿°</th></tr></thead> <tbody><tr><td>cell</td> <td>Cell</td> <td style="text-align:center;">âœ“</td> <td></td> <td>èŠ‚ç‚¹/è¾¹ã€‚</td></tr> <tr><td>options.breadthFirst</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>æ˜¯å¦ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼Œé»˜è®¤ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ã€‚</td></tr> <tr><td>options.deep</td> <td>boolean</td> <td style="text-align:center;"></td> <td><code>false</code></td> <td>æ˜¯å¦é€’å½’è·å–æ‰€æœ‰å­èŠ‚ç‚¹/è¾¹ï¼Œä¸º <code>true</code> æ—¶å°†åŒæ—¶è¿”å›æ‰€æœ‰å­å­™èŠ‚ç‚¹/è¾¹çš„å‰åºèŠ‚ç‚¹ã€‚</td></tr> <tr><td>options.distance</td> <td>number | number[] | ((distance: number) =&gt; boolean)</td> <td style="text-align:center;"></td> <td>-</td> <td>è·è·å–æŒ‡å®šè·ç¦»çš„å‰åºèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å’ŒèŠ‚ç‚¹ä¹‹é—´ç›¸éš”çš„è¾¹çš„æ•°é‡ä¸º <code>1</code> ä¸ªè·ç¦»å•ä½ã€‚</td></tr></tbody></table> <h4 id="getsuccessors"><a href="#getsuccessors" class="header-anchor">#</a> getSuccessors(...)</h4> <div class="language-sign extra-class"><pre class="language-text"><code>getSuccessors(cell: Cell, options?: GetPredecessorsOptions): Cell[]
</code></pre></div><p>è·å–æ‰€æœ‰åç»­èŠ‚ç‚¹ï¼Œå³ä»æŒ‡å®šèŠ‚ç‚¹å¼€å§‹è¿æ¥åˆ°å¶å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚å…¶ä¸­ <code>options</code> é€‰é¡¹ä¸ <a href="#getpredecessors"><code>getPredecessors(...)</code></a> æ–¹æ³•çš„é€‰é¡¹ä¸€è‡´ã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/document/vue3-base.html" class="prev">
        Vue3 åŸºç¡€çŸ¥è¯†
      </a></span> <span class="next"><a href="/document/Promise/">
        Promiseå¯¹è±¡
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fbb00a38.js" defer></script><script src="/assets/js/2.2784263e.js" defer></script><script src="/assets/js/41.52820797.js" defer></script>
  </body>
</html>
